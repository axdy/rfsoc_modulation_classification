-- -------------------------------------------------------------
-- 
-- File Name: hdl_prj/hdlsrc/amc_model_w16a16/amc_cnn_16w16a_src_SinglePortRAM_generic_block5.vhd
-- Created: 2023-07-03 13:16:43
-- 
-- Generated by MATLAB 9.8 and HDL Coder 3.16
-- 
-- -------------------------------------------------------------


-- -------------------------------------------------------------
-- 
-- Module: amc_cnn_16w16a_src_SinglePortRAM_generic_block5
-- Source Path: amc_model_w16a16/DUT HDL/Dense Layer 2/Dense Layer 2/Weight Storage 4/SinglePortRAM_generic
-- Hierarchy Level: 4
-- 
-- -------------------------------------------------------------
LIBRARY IEEE;
USE IEEE.std_logic_1164.ALL;
USE IEEE.numeric_std.ALL;

ENTITY amc_cnn_16w16a_src_SinglePortRAM_generic_block5 IS
  GENERIC( AddrWidth                      : integer := 1;
           DataWidth                      : integer := 1
           );
  PORT( clk                               :   IN    std_logic;
        enb                               :   IN    std_logic;
        din                               :   IN    std_logic_vector(DataWidth - 1 DOWNTO 0);  -- generic width
        addr                              :   IN    std_logic_vector(AddrWidth - 1 DOWNTO 0);  -- generic width
        we                                :   IN    std_logic;  -- ufix1
        dout                              :   OUT   std_logic_vector(DataWidth - 1 DOWNTO 0)  -- generic width
        );
END amc_cnn_16w16a_src_SinglePortRAM_generic_block5;


ARCHITECTURE rtl OF amc_cnn_16w16a_src_SinglePortRAM_generic_block5 IS

  -- Local Type Definitions
  TYPE ram_type IS ARRAY (2**AddrWidth - 1 DOWNTO 0) of std_logic_vector(DataWidth - 1 DOWNTO 0);

  -- Signals
  SIGNAL ram                              : ram_type := (X"2f7f", X"cbb4", X"0373", X"16e4", X"749e", X"c983", X"f381", X"b1e3", X"c42d", X"09aa", X"e37c", X"e507", X"d55c", X"0697",
                                                        X"cff7", X"b9a5", X"25e9", X"24c5", X"ca65", X"b873", X"f698", X"2b11", X"07f3", X"20ac", X"aa34", X"2cce", X"c6e0", X"d6d0",
                                                        X"1656", X"e4f2", X"c0a2", X"d9cf", X"f50f", X"f245", X"4b18", X"4939", X"9c8a", X"c41e", X"8e0b", X"ba15", X"c546", X"c019",
                                                        X"4be4", X"e552", X"1caf", X"eb21", X"f99f", X"ab5f", X"ac6f", X"43aa", X"c085", X"d971", X"3358", X"e0cf", X"d276", X"58d0",
                                                        X"1337", X"d52e", X"e44d", X"b298", X"0000", X"f0b0", X"c435", X"f4bc", X"a702", X"e962", X"4237", X"bbd9", X"da6b", X"29e7",
                                                        X"b033", X"06a0", X"ca9f", X"c94f", X"1a62", X"ccf2", X"90a7", X"0306", X"c249", X"b009", X"158e", X"0414", X"b365", X"0000",
                                                        X"3877", X"e4f6", X"be03", X"02c0", X"ce2b", X"d574", X"c4c9", X"002a", X"4e17", X"0e58", X"0d34", X"cc97", X"f5e9", X"f094",
                                                        X"d7a2", X"33cc", X"e0fb", X"0442", X"df9f", X"f1e4", X"8f66", X"d3b0", X"0aba", X"e8bb", X"e0d5", X"e11e", X"e860", X"b0f4",
                                                        X"f535", X"dfa4", X"ed3d", X"8c12", X"f38b", X"5466", X"ed1e", X"de7a", X"cb2f", X"c311", X"dad3", X"ee7a", X"477f", X"890d",
                                                        X"e669", X"21e6");
  SIGNAL data_int                         : std_logic_vector(DataWidth - 1 DOWNTO 0) := X"21e6";
  SIGNAL addr_unsigned                    : unsigned(AddrWidth - 1 DOWNTO 0);  -- generic width

BEGIN
  addr_unsigned <= unsigned(addr);

  SinglePortRAM_generic_process: PROCESS (clk)
  BEGIN
    IF clk'event AND clk = '1' THEN
      IF enb = '1' THEN
        IF we = '1' THEN
          ram(to_integer(addr_unsigned)) <= din;
          data_int <= din;
        ELSE
          data_int <= ram(to_integer(addr_unsigned));
        END IF;
      END IF;
    END IF;
  END PROCESS SinglePortRAM_generic_process;

  dout <= data_int;

END rtl;

