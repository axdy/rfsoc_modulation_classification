-- -------------------------------------------------------------
-- 
-- File Name: hdl_prj/hdlsrc/amc_model_w16a16/amc_cnn_16w16a_src_SinglePortRAM_generic_block1.vhd
-- Created: 2023-07-03 13:16:43
-- 
-- Generated by MATLAB 9.8 and HDL Coder 3.16
-- 
-- -------------------------------------------------------------


-- -------------------------------------------------------------
-- 
-- Module: amc_cnn_16w16a_src_SinglePortRAM_generic_block1
-- Source Path: amc_model_w16a16/DUT HDL/Dense Layer 2/Dense Layer 2/Weight Storage 0/SinglePortRAM_generic
-- Hierarchy Level: 4
-- 
-- -------------------------------------------------------------
LIBRARY IEEE;
USE IEEE.std_logic_1164.ALL;
USE IEEE.numeric_std.ALL;

ENTITY amc_cnn_16w16a_src_SinglePortRAM_generic_block1 IS
  GENERIC( AddrWidth                      : integer := 1;
           DataWidth                      : integer := 1
           );
  PORT( clk                               :   IN    std_logic;
        enb                               :   IN    std_logic;
        din                               :   IN    std_logic_vector(DataWidth - 1 DOWNTO 0);  -- generic width
        addr                              :   IN    std_logic_vector(AddrWidth - 1 DOWNTO 0);  -- generic width
        we                                :   IN    std_logic;  -- ufix1
        dout                              :   OUT   std_logic_vector(DataWidth - 1 DOWNTO 0)  -- generic width
        );
END amc_cnn_16w16a_src_SinglePortRAM_generic_block1;


ARCHITECTURE rtl OF amc_cnn_16w16a_src_SinglePortRAM_generic_block1 IS

  -- Local Type Definitions
  TYPE ram_type IS ARRAY (2**AddrWidth - 1 DOWNTO 0) of std_logic_vector(DataWidth - 1 DOWNTO 0);

  -- Signals
  SIGNAL ram                              : ram_type := (X"235e", X"cdb6", X"00a7", X"16b9", X"6604", X"d06c", X"028e", X"ad33", X"bff5", X"0dcd", X"eaa9", X"f42e", X"dae9", X"ebb4",
                                                        X"d507", X"d337", X"0700", X"1bb8", X"d429", X"bf50", X"55f3", X"1520", X"09e1", X"183c", X"bda0", X"1fa0", X"d337", X"e092",
                                                        X"1c2a", X"dbf1", X"a09f", X"d66c", X"e232", X"fbbf", X"0f53", X"800b", X"b255", X"cd31", X"73a9", X"b521", X"d667", X"c622",
                                                        X"421e", X"e661", X"fd5c", X"dbc5", X"f139", X"c855", X"c6fd", X"1899", X"cb2a", X"d707", X"f20f", X"e13c", X"d5ca", X"55bc",
                                                        X"0e01", X"dcc9", X"ea2d", X"0ebf", X"0000", X"fabb", X"adbf", X"f3d8", X"743e", X"e8c5", X"1368", X"c1f2", X"de7e", X"011a",
                                                        X"2543", X"ff28", X"d2d5", X"e6a2", X"15b0", X"db26", X"0b3d", X"f71f", X"ce8f", X"156b", X"15a4", X"0ceb", X"b274", X"0000",
                                                        X"2fc6", X"dcab", X"c52c", X"fbe3", X"ee41", X"daed", X"d7ee", X"39d8", X"42b8", X"0905", X"0516", X"d458", X"e7da", X"ee15",
                                                        X"dbba", X"610e", X"ec48", X"0b60", X"e541", X"f561", X"19dc", X"da55", X"1063", X"f648", X"e85a", X"6a6d", X"e0a5", X"c37f",
                                                        X"fdbb", X"e0f9", X"f28d", X"419d", X"f799", X"4baa", X"f21f", X"d3a1", X"d16b", X"ac6d", X"cfdc", X"e81f", X"19b0", X"f582",
                                                        X"f669", X"3069");
  SIGNAL data_int                         : std_logic_vector(DataWidth - 1 DOWNTO 0) := X"3069";
  SIGNAL addr_unsigned                    : unsigned(AddrWidth - 1 DOWNTO 0);  -- generic width

BEGIN
  addr_unsigned <= unsigned(addr);

  SinglePortRAM_generic_process: PROCESS (clk)
  BEGIN
    IF clk'event AND clk = '1' THEN
      IF enb = '1' THEN
        IF we = '1' THEN
          ram(to_integer(addr_unsigned)) <= din;
          data_int <= din;
        ELSE
          data_int <= ram(to_integer(addr_unsigned));
        END IF;
      END IF;
    END IF;
  END PROCESS SinglePortRAM_generic_process;

  dout <= data_int;

END rtl;

