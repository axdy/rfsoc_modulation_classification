-- -------------------------------------------------------------
-- 
-- File Name: hdl_prj/hdlsrc/amc_model_w16a16/amc_cnn_16w16a_src_SinglePortRAM_generic_block2.vhd
-- Created: 2023-07-03 13:16:43
-- 
-- Generated by MATLAB 9.8 and HDL Coder 3.16
-- 
-- -------------------------------------------------------------


-- -------------------------------------------------------------
-- 
-- Module: amc_cnn_16w16a_src_SinglePortRAM_generic_block2
-- Source Path: amc_model_w16a16/DUT HDL/Dense Layer 2/Dense Layer 2/Weight Storage 1/SinglePortRAM_generic
-- Hierarchy Level: 4
-- 
-- -------------------------------------------------------------
LIBRARY IEEE;
USE IEEE.std_logic_1164.ALL;
USE IEEE.numeric_std.ALL;

ENTITY amc_cnn_16w16a_src_SinglePortRAM_generic_block2 IS
  GENERIC( AddrWidth                      : integer := 1;
           DataWidth                      : integer := 1
           );
  PORT( clk                               :   IN    std_logic;
        enb                               :   IN    std_logic;
        din                               :   IN    std_logic_vector(DataWidth - 1 DOWNTO 0);  -- generic width
        addr                              :   IN    std_logic_vector(AddrWidth - 1 DOWNTO 0);  -- generic width
        we                                :   IN    std_logic;  -- ufix1
        dout                              :   OUT   std_logic_vector(DataWidth - 1 DOWNTO 0)  -- generic width
        );
END amc_cnn_16w16a_src_SinglePortRAM_generic_block2;


ARCHITECTURE rtl OF amc_cnn_16w16a_src_SinglePortRAM_generic_block2 IS

  -- Local Type Definitions
  TYPE ram_type IS ARRAY (2**AddrWidth - 1 DOWNTO 0) of std_logic_vector(DataWidth - 1 DOWNTO 0);

  -- Signals
  SIGNAL ram                              : ram_type := (X"07c4", X"b8dc", X"ef22", X"fcd4", X"48d5", X"bb62", X"dec8", X"592e", X"baa2", X"e380", X"d75c", X"ec81", X"cd74", X"b571",
                                                        X"cecf", X"c7aa", X"d2d7", X"198d", X"b85c", X"b3cf", X"3420", X"de75", X"ffcd", X"fb70", X"a88f", X"1e1e", X"1716", X"c7fb",
                                                        X"02ac", X"e441", X"7fac", X"c923", X"e8ce", X"ed46", X"ee39", X"1cf9", X"91a0", X"a928", X"4791", X"6037", X"a79b", X"c109",
                                                        X"3c9b", X"d18f", X"e1d3", X"37f2", X"e265", X"7fb0", X"7f70", X"189c", X"a822", X"d420", X"1e8b", X"d2ba", X"d0d1", X"4433",
                                                        X"06a4", X"c018", X"5901", X"0b0d", X"0000", X"db17", X"7fc7", X"dd75", X"4e18", X"ea7a", X"f665", X"b6a3", X"dc45", X"cb82",
                                                        X"f3e3", X"f7d7", X"2c7d", X"be24", X"0cdf", X"cab8", X"c513", X"ed11", X"c0f7", X"1703", X"f666", X"f665", X"5f42", X"0000",
                                                        X"2102", X"5e46", X"b7ec", X"ed15", X"e13d", X"c2b0", X"e13a", X"2f38", X"fac6", X"0b4f", X"f6cc", X"c6a1", X"f150", X"eb99",
                                                        X"d7af", X"736e", X"debd", X"78b7", X"c898", X"ee6f", X"a7fb", X"bc55", X"066c", X"6b6c", X"d088", X"de69", X"359a", X"bae0",
                                                        X"0801", X"d3b7", X"d324", X"29af", X"dff5", X"350a", X"0008", X"ea89", X"cd33", X"7f5c", X"d53c", X"e408", X"153d", X"a8d3",
                                                        X"d02d", X"2659");
  SIGNAL data_int                         : std_logic_vector(DataWidth - 1 DOWNTO 0) := X"2659";
  SIGNAL addr_unsigned                    : unsigned(AddrWidth - 1 DOWNTO 0);  -- generic width

BEGIN
  addr_unsigned <= unsigned(addr);

  SinglePortRAM_generic_process: PROCESS (clk)
  BEGIN
    IF clk'event AND clk = '1' THEN
      IF enb = '1' THEN
        IF we = '1' THEN
          ram(to_integer(addr_unsigned)) <= din;
          data_int <= din;
        ELSE
          data_int <= ram(to_integer(addr_unsigned));
        END IF;
      END IF;
    END IF;
  END PROCESS SinglePortRAM_generic_process;

  dout <= data_int;

END rtl;

