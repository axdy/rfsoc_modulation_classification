-- -------------------------------------------------------------
-- 
-- File Name: hdl_prj/hdlsrc/amc_model_w16a16/amc_cnn_16w16a_src_SinglePortRAM_generic_block3.vhd
-- Created: 2023-07-03 13:16:43
-- 
-- Generated by MATLAB 9.8 and HDL Coder 3.16
-- 
-- -------------------------------------------------------------


-- -------------------------------------------------------------
-- 
-- Module: amc_cnn_16w16a_src_SinglePortRAM_generic_block3
-- Source Path: amc_model_w16a16/DUT HDL/Dense Layer 2/Dense Layer 2/Weight Storage 2/SinglePortRAM_generic
-- Hierarchy Level: 4
-- 
-- -------------------------------------------------------------
LIBRARY IEEE;
USE IEEE.std_logic_1164.ALL;
USE IEEE.numeric_std.ALL;

ENTITY amc_cnn_16w16a_src_SinglePortRAM_generic_block3 IS
  GENERIC( AddrWidth                      : integer := 1;
           DataWidth                      : integer := 1
           );
  PORT( clk                               :   IN    std_logic;
        enb                               :   IN    std_logic;
        din                               :   IN    std_logic_vector(DataWidth - 1 DOWNTO 0);  -- generic width
        addr                              :   IN    std_logic_vector(AddrWidth - 1 DOWNTO 0);  -- generic width
        we                                :   IN    std_logic;  -- ufix1
        dout                              :   OUT   std_logic_vector(DataWidth - 1 DOWNTO 0)  -- generic width
        );
END amc_cnn_16w16a_src_SinglePortRAM_generic_block3;


ARCHITECTURE rtl OF amc_cnn_16w16a_src_SinglePortRAM_generic_block3 IS

  -- Local Type Definitions
  TYPE ram_type IS ARRAY (2**AddrWidth - 1 DOWNTO 0) of std_logic_vector(DataWidth - 1 DOWNTO 0);

  -- Signals
  SIGNAL ram                              : ram_type := (X"3397", X"11ab", X"57b1", X"2621", X"5518", X"11bb", X"49a5", X"9afc", X"c695", X"11b6", X"29a2", X"4160", X"2151", X"17c3",
                                                        X"1618", X"ba06", X"f449", X"2722", X"14ee", X"ba0a", X"1a04", X"402d", X"f15d", X"1302", X"a573", X"3a49", X"c441", X"1e63",
                                                        X"5b62", X"d45d", X"9f82", X"1e2e", X"f822", X"f0ca", X"37e2", X"395d", X"ac29", X"0da9", X"99ef", X"9f5b", X"dbfd", X"34ca",
                                                        X"4d4c", X"250b", X"34a4", X"f3bf", X"ebe3", X"af41", X"ad5c", X"121a", X"084a", X"dc3c", X"4c68", X"e2b0", X"d3a4", X"5a25",
                                                        X"14a5", X"e776", X"dd5f", X"ae38", X"0000", X"36b3", X"d40a", X"fe79", X"f371", X"3697", X"3225", X"0be8", X"d6a1", X"1013",
                                                        X"cbd2", X"003a", X"c4a6", X"cdf6", X"1b5b", X"dac0", X"94ab", X"04aa", X"c38f", X"c88c", X"2483", X"4b8c", X"9965", X"0000",
                                                        X"2604", X"dcf0", X"b517", X"098d", X"ce28", X"399b", X"c00b", X"e986", X"3648", X"1297", X"0d39", X"19a1", X"fe18", X"f37e",
                                                        X"d8ba", X"178f", X"305f", X"0eea", X"20d3", X"35ab", X"9e03", X"1949", X"53cd", X"ee73", X"22b2", X"0ce9", X"ea4f", X"3516",
                                                        X"079a", X"27a6", X"3198", X"e02a", X"3994", X"3f58", X"4545", X"dadc", X"19e2", X"bd72", X"c8c5", X"e3f2", X"2121", X"93ab",
                                                        X"32df", X"1dd8");
  SIGNAL data_int                         : std_logic_vector(DataWidth - 1 DOWNTO 0) := X"1dd8";
  SIGNAL addr_unsigned                    : unsigned(AddrWidth - 1 DOWNTO 0);  -- generic width

BEGIN
  addr_unsigned <= unsigned(addr);

  SinglePortRAM_generic_process: PROCESS (clk)
  BEGIN
    IF clk'event AND clk = '1' THEN
      IF enb = '1' THEN
        IF we = '1' THEN
          ram(to_integer(addr_unsigned)) <= din;
          data_int <= din;
        ELSE
          data_int <= ram(to_integer(addr_unsigned));
        END IF;
      END IF;
    END IF;
  END PROCESS SinglePortRAM_generic_process;

  dout <= data_int;

END rtl;

