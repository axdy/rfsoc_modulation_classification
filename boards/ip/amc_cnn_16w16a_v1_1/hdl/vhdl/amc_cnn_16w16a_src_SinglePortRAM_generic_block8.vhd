-- -------------------------------------------------------------
-- 
-- File Name: hdl_prj/hdlsrc/amc_model_w16a16/amc_cnn_16w16a_src_SinglePortRAM_generic_block8.vhd
-- Created: 2023-08-04 11:27:08
-- 
-- Generated by MATLAB 9.8 and HDL Coder 3.16
-- 
-- -------------------------------------------------------------


-- -------------------------------------------------------------
-- 
-- Module: amc_cnn_16w16a_src_SinglePortRAM_generic_block8
-- Source Path: amc_model_w16a16/DUT HDL/Dense Layer 2/Dense Layer 2/Weight Storage 7/SinglePortRAM_generic
-- Hierarchy Level: 4
-- 
-- -------------------------------------------------------------
LIBRARY IEEE;
USE IEEE.std_logic_1164.ALL;
USE IEEE.numeric_std.ALL;

ENTITY amc_cnn_16w16a_src_SinglePortRAM_generic_block8 IS
  GENERIC( AddrWidth                      : integer := 1;
           DataWidth                      : integer := 1
           );
  PORT( clk                               :   IN    std_logic;
        enb                               :   IN    std_logic;
        din                               :   IN    std_logic_vector(DataWidth - 1 DOWNTO 0);  -- generic width
        addr                              :   IN    std_logic_vector(AddrWidth - 1 DOWNTO 0);  -- generic width
        we                                :   IN    std_logic;  -- ufix1
        dout                              :   OUT   std_logic_vector(DataWidth - 1 DOWNTO 0)  -- generic width
        );
END amc_cnn_16w16a_src_SinglePortRAM_generic_block8;


ARCHITECTURE rtl OF amc_cnn_16w16a_src_SinglePortRAM_generic_block8 IS

  -- Local Type Definitions
  TYPE ram_type IS ARRAY (2**AddrWidth - 1 DOWNTO 0) of std_logic_vector(DataWidth - 1 DOWNTO 0);

  -- Signals
  SIGNAL ram                              : ram_type := (X"536f", X"8fdc", X"d6b6", X"c7b6", X"bc93", X"ba46", X"068e", X"c6a6", X"f075", X"95a1", X"1367", X"dde8", X"8fb2", X"2bbd",
                                                        X"f8ff", X"3b57", X"def9", X"5990", X"dcf9", X"00a5", X"7443", X"feab", X"6b5f", X"f485", X"066b", X"391a", X"7fb2", X"c4da",
                                                        X"f85f", X"dc8a", X"7f9e", X"146c", X"8d83", X"9e7c", X"dd78", X"f02d", X"7a0e", X"c530", X"e5fd", X"7fc8", X"dd1d", X"e298",
                                                        X"7fda", X"cba4", X"d9b8", X"be31", X"2eca", X"c629", X"5a32", X"efc9", X"be24", X"6544", X"00de", X"7fe1", X"def7", X"aef8",
                                                        X"b649", X"ffcd", X"f4c9", X"0dfb", X"0b61", X"cca4", X"7513", X"1e5d", X"5b25", X"e585", X"ef35", X"06c1", X"e50d", X"0397",
                                                        X"aebf", X"ec77", X"fca4", X"e9f1", X"7f2d", X"ad24", X"d692", X"d826", X"f41e", X"0367", X"05ca", X"cdc0", X"e75b", X"f2ff",
                                                        X"194e", X"1177", X"3afb", X"7fb9", X"baee", X"1118", X"04f0", X"a18d", X"0875", X"db89", X"bc94", X"fd5a", X"f784", X"0000",
                                                        X"cafd", X"7f09", X"e70e", X"6060", X"d9f1", X"d8fc", X"6cf9", X"a239", X"ee58", X"d99f", X"a9b3", X"7fe3", X"19cf", X"66e7",
                                                        X"0d6b", X"7fac", X"0ed9", X"e76b", X"7b28", X"de23", X"cb18", X"d99b", X"7c0b", X"bd76", X"0e81", X"663a", X"b965", X"1282",
                                                        X"dffe", X"80af");
  SIGNAL data_int                         : std_logic_vector(DataWidth - 1 DOWNTO 0) := X"80af";
  SIGNAL addr_unsigned                    : unsigned(AddrWidth - 1 DOWNTO 0);  -- generic width

BEGIN
  addr_unsigned <= unsigned(addr);

  SinglePortRAM_generic_process: PROCESS (clk)
  BEGIN
    IF clk'event AND clk = '1' THEN
      IF enb = '1' THEN
        IF we = '1' THEN
          ram(to_integer(addr_unsigned)) <= din;
          data_int <= din;
        ELSE
          data_int <= ram(to_integer(addr_unsigned));
        END IF;
      END IF;
    END IF;
  END PROCESS SinglePortRAM_generic_process;

  dout <= data_int;

END rtl;

