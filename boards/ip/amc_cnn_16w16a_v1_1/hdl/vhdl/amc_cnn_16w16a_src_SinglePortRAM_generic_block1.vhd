-- -------------------------------------------------------------
-- 
-- File Name: hdl_prj/hdlsrc/amc_model_w16a16/amc_cnn_16w16a_src_SinglePortRAM_generic_block1.vhd
-- Created: 2023-08-04 11:27:07
-- 
-- Generated by MATLAB 9.8 and HDL Coder 3.16
-- 
-- -------------------------------------------------------------


-- -------------------------------------------------------------
-- 
-- Module: amc_cnn_16w16a_src_SinglePortRAM_generic_block1
-- Source Path: amc_model_w16a16/DUT HDL/Dense Layer 2/Dense Layer 2/Weight Storage 0/SinglePortRAM_generic
-- Hierarchy Level: 4
-- 
-- -------------------------------------------------------------
LIBRARY IEEE;
USE IEEE.std_logic_1164.ALL;
USE IEEE.numeric_std.ALL;

ENTITY amc_cnn_16w16a_src_SinglePortRAM_generic_block1 IS
  GENERIC( AddrWidth                      : integer := 1;
           DataWidth                      : integer := 1
           );
  PORT( clk                               :   IN    std_logic;
        enb                               :   IN    std_logic;
        din                               :   IN    std_logic_vector(DataWidth - 1 DOWNTO 0);  -- generic width
        addr                              :   IN    std_logic_vector(AddrWidth - 1 DOWNTO 0);  -- generic width
        we                                :   IN    std_logic;  -- ufix1
        dout                              :   OUT   std_logic_vector(DataWidth - 1 DOWNTO 0)  -- generic width
        );
END amc_cnn_16w16a_src_SinglePortRAM_generic_block1;


ARCHITECTURE rtl OF amc_cnn_16w16a_src_SinglePortRAM_generic_block1 IS

  -- Local Type Definitions
  TYPE ram_type IS ARRAY (2**AddrWidth - 1 DOWNTO 0) of std_logic_vector(DataWidth - 1 DOWNTO 0);

  -- Signals
  SIGNAL ram                              : ram_type := (X"0d9c", X"38a6", X"beac", X"dff5", X"2eb0", X"e0fc", X"fcf9", X"c3a2", X"41ce", X"1119", X"ff52", X"e44c", X"0f94", X"4cdd",
                                                        X"cc86", X"dc49", X"eefb", X"03a6", X"2f2b", X"0416", X"d78b", X"3041", X"e5b4", X"d4cb", X"e6ac", X"1dab", X"b872", X"c53c",
                                                        X"e060", X"fb2e", X"0a6e", X"d639", X"320a", X"5101", X"d747", X"c617", X"fab1", X"ea47", X"2ee8", X"23a2", X"ca0c", X"b0f4",
                                                        X"f553", X"1a98", X"c2fa", X"afca", X"1053", X"b426", X"e9b1", X"e790", X"b58f", X"f86f", X"e3b1", X"cd5c", X"c7a0", X"cfce",
                                                        X"a435", X"3516", X"f2c0", X"fa2d", X"f9a3", X"0e8d", X"f4bd", X"1368", X"d364", X"ee6e", X"d8a0", X"cfab", X"f221", X"cf54",
                                                        X"cf61", X"ce99", X"eedb", X"c074", X"2759", X"2410", X"b9b8", X"f5ba", X"cf75", X"531c", X"cfef", X"b925", X"cdf9", X"c818",
                                                        X"0447", X"036e", X"08e4", X"c72f", X"e7ed", X"df92", X"ee84", X"4928", X"f462", X"8ca5", X"0734", X"f615", X"efe6", X"0000",
                                                        X"bc18", X"0d2f", X"d6c4", X"f44b", X"f1d3", X"07af", X"2ec8", X"4cee", X"d23a", X"0139", X"0b69", X"9e99", X"eb65", X"c3b1",
                                                        X"e2a5", X"d624", X"fa50", X"9982", X"fe84", X"e6c1", X"db64", X"ee7f", X"ed68", X"c9dc", X"0364", X"e13d", X"c078", X"db0a",
                                                        X"c79d", X"4b43");
  SIGNAL data_int                         : std_logic_vector(DataWidth - 1 DOWNTO 0) := X"4b43";
  SIGNAL addr_unsigned                    : unsigned(AddrWidth - 1 DOWNTO 0);  -- generic width

BEGIN
  addr_unsigned <= unsigned(addr);

  SinglePortRAM_generic_process: PROCESS (clk)
  BEGIN
    IF clk'event AND clk = '1' THEN
      IF enb = '1' THEN
        IF we = '1' THEN
          ram(to_integer(addr_unsigned)) <= din;
          data_int <= din;
        ELSE
          data_int <= ram(to_integer(addr_unsigned));
        END IF;
      END IF;
    END IF;
  END PROCESS SinglePortRAM_generic_process;

  dout <= data_int;

END rtl;

