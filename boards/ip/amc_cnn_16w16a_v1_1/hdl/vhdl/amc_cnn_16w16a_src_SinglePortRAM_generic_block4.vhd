-- -------------------------------------------------------------
-- 
-- File Name: hdl_prj/hdlsrc/amc_model_w16a16/amc_cnn_16w16a_src_SinglePortRAM_generic_block4.vhd
-- Created: 2023-08-04 11:27:08
-- 
-- Generated by MATLAB 9.8 and HDL Coder 3.16
-- 
-- -------------------------------------------------------------


-- -------------------------------------------------------------
-- 
-- Module: amc_cnn_16w16a_src_SinglePortRAM_generic_block4
-- Source Path: amc_model_w16a16/DUT HDL/Dense Layer 2/Dense Layer 2/Weight Storage 3/SinglePortRAM_generic
-- Hierarchy Level: 4
-- 
-- -------------------------------------------------------------
LIBRARY IEEE;
USE IEEE.std_logic_1164.ALL;
USE IEEE.numeric_std.ALL;

ENTITY amc_cnn_16w16a_src_SinglePortRAM_generic_block4 IS
  GENERIC( AddrWidth                      : integer := 1;
           DataWidth                      : integer := 1
           );
  PORT( clk                               :   IN    std_logic;
        enb                               :   IN    std_logic;
        din                               :   IN    std_logic_vector(DataWidth - 1 DOWNTO 0);  -- generic width
        addr                              :   IN    std_logic_vector(AddrWidth - 1 DOWNTO 0);  -- generic width
        we                                :   IN    std_logic;  -- ufix1
        dout                              :   OUT   std_logic_vector(DataWidth - 1 DOWNTO 0)  -- generic width
        );
END amc_cnn_16w16a_src_SinglePortRAM_generic_block4;


ARCHITECTURE rtl OF amc_cnn_16w16a_src_SinglePortRAM_generic_block4 IS

  -- Local Type Definitions
  TYPE ram_type IS ARRAY (2**AddrWidth - 1 DOWNTO 0) of std_logic_vector(DataWidth - 1 DOWNTO 0);

  -- Signals
  SIGNAL ram                              : ram_type := (X"f962", X"1a0c", X"0f44", X"e80f", X"de33", X"dc0f", X"ea32", X"bf9a", X"3e4e", X"f1b4", X"3538", X"1ffd", X"175f", X"ff62",
                                                        X"a25e", X"bdcb", X"f444", X"fb42", X"f0af", X"e856", X"46ef", X"3733", X"fddc", X"60ce", X"275b", X"5ec6", X"ba09", X"b6c4",
                                                        X"35db", X"4b36", X"ae10", X"ddd2", X"dde6", X"d542", X"da73", X"26f3", X"8f50", X"f15e", X"1f31", X"c6a5", X"1e3c", X"8088",
                                                        X"adef", X"247c", X"1043", X"a08c", X"4632", X"1d64", X"f06f", X"2c4c", X"990f", X"b78c", X"e0d9", X"d26f", X"266e", X"cdf1",
                                                        X"b161", X"f495", X"2a28", X"3a5c", X"3a06", X"3250", X"f277", X"5a38", X"1ccb", X"0f87", X"258e", X"ae9a", X"f297", X"14e8",
                                                        X"ba4f", X"1ab6", X"f8ef", X"1a60", X"8803", X"0cbf", X"02e7", X"be51", X"153a", X"4fca", X"39bc", X"b8ce", X"1d66", X"0dc9",
                                                        X"4675", X"5a1c", X"eddf", X"d45e", X"e3f2", X"2e8e", X"256f", X"00c2", X"424f", X"4169", X"08a4", X"0b14", X"46da", X"0000",
                                                        X"ffb4", X"ce12", X"2203", X"e7f7", X"f844", X"f974", X"21da", X"37dd", X"2b7d", X"0297", X"1c8d", X"acb8", X"3d93", X"cc85",
                                                        X"3331", X"afd5", X"36ee", X"a2e5", X"0f00", X"ec67", X"c412", X"2e2b", X"ea97", X"c159", X"4744", X"e180", X"e803", X"26bc",
                                                        X"1061", X"0b11");
  SIGNAL data_int                         : std_logic_vector(DataWidth - 1 DOWNTO 0) := X"0b11";
  SIGNAL addr_unsigned                    : unsigned(AddrWidth - 1 DOWNTO 0);  -- generic width

BEGIN
  addr_unsigned <= unsigned(addr);

  SinglePortRAM_generic_process: PROCESS (clk)
  BEGIN
    IF clk'event AND clk = '1' THEN
      IF enb = '1' THEN
        IF we = '1' THEN
          ram(to_integer(addr_unsigned)) <= din;
          data_int <= din;
        ELSE
          data_int <= ram(to_integer(addr_unsigned));
        END IF;
      END IF;
    END IF;
  END PROCESS SinglePortRAM_generic_process;

  dout <= data_int;

END rtl;

